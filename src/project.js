window.__require=function t(e,o,r){function i(n,s){if(!o[n]){if(!e[n]){var a=n.split("/");if(a=a[a.length-1],!e[a]){var p="function"==typeof __require&&__require;if(!s&&p)return p(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+n+"'")}}var h=o[n]={exports:{}};e[n][0].call(h.exports,function(t){return i(e[n][1][t]||t)},h,h.exports,t,e,o,r)}return o[n].exports}for(var c="function"==typeof __require&&__require,n=0;n<r.length;n++)i(r[n]);return i}({Bullet:[function(t,e,o){"use strict";cc._RF.push(e,"d1035EbUsNDI4zekJ0zHTWl","Bullet");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,c=arguments.length,n=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(c<3?i(n):c>3?i(e,o,n):i(e,o))||n);return c>3&&n&&Object.defineProperty(e,o,n),n};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,s=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=100,e.clockwise=1,e.isPlaying=!1,e.airplane=null,e}return r(e,t),e.prototype.update=function(t){},i([s(cc.Node)],e.prototype,"airplane",void 0),e=i([n],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],CommonButton:[function(t,e,o){"use strict";cc._RF.push(e,"e3989HdiJdKXIMU5j2gHDX5","CommonButton");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,c=arguments.length,n=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(c<3?i(n):c>3?i(e,o,n):i(e,o))||n);return c>3&&n&&Object.defineProperty(e,o,n),n};Object.defineProperty(o,"__esModule",{value:!0});var c,n=cc._decorator,s=n.ccclass,a=n.property,p=n.menu;function h(t){return l("active",t)}function l(t,e){return function(o){o&&o[t]!==e&&(o[t]=e)}}(function(t){t[t.NORMAL=0]="NORMAL",t[t.DARK=1]="DARK",t[t.BRIGHT=2]="BRIGHT"})(c||(c={})),o.nodeActive=h,o.nodeProperty=l;var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.backgroundSpriteFrame=null,e.textSpriteFrame=null,e.label=null,e.onClickHandler=null,e.onClickHandlers=[],e.cantClickWhenKeepBright=!1,e.enableAutoGrayEffect=!1,e.zoomScale=.9,e.brightColor=new cc.Color(255,255,255,80),e.darkColor=new cc.Color(0,0,0,180),e.checkmarks=[],e.notCheckmarks=[],e.brightNodes=[],e._keepBright=!1,e._interactable=!0,e._isChecked=!1,e.isHover=!1,e.loaded=!1,e.scaleButton=null,e.darkNode=null,e.brightNode=null,e}return r(e,t),e.prototype.onLoad=function(){this.pre()},e.prototype.pre=function(){var t;if(!this.loaded){this.targetNode=this.targetNode||this.node;var e=this.targetNode.getComponent(cc.Sprite);e||((e=this.targetNode.addComponent(cc.Sprite)).spriteFrame=this.backgroundSpriteFrame),d(this.targetNode,c.NORMAL),!this.backgroundSpriteFrame&&e&&(this.backgroundSpriteFrame=e.spriteFrame),this.scaleButton=this.addComponent(cc.Button);try{this.scaleButton.target=this.node}catch(t){}this.scaleButton.transition=cc.Button.Transition.SCALE,this.scaleButton.enableAutoGrayEffect=this.enableAutoGrayEffect;var o=new cc.Component.EventHandler;if(o.component="CommonButton",o.target=this.targetNode,o.handler="toggleChecked",(t=this.scaleButton.clickEvents).push.apply(t,[o,this.onClickHandler].concat(this.onClickHandlers)),this.scaleButton.zoomScale=this.zoomScale,!this.targetNode.children.length&&this.textSpriteFrame){var r=new cc.Node;r.addComponent(cc.Sprite).spriteFrame=this.textSpriteFrame,this.targetNode.addChild(r)}this.darkNode=new cc.Node;var i=this.darkNode.addComponent(cc.Sprite);i.type=e.type,i.sizeMode=e.sizeMode,i.trim=e.trim,i.spriteFrame=this.backgroundSpriteFrame,this.darkNode.height=this.targetNode.height,this.darkNode.width=this.targetNode.width,f(i,c.DARK),this.darkNode.color=this.darkColor.clone().setA(255),this.darkNode.opacity=this.darkColor.getA(),this.targetNode.addChild(this.darkNode),this.brightNode=new cc.Node;var n=this.brightNode.addComponent(cc.Sprite);n.type=e.type,n.sizeMode=e.sizeMode,n.trim=e.trim,n.spriteFrame=this.backgroundSpriteFrame,this.brightNode.height=this.targetNode.height,this.brightNode.width=this.targetNode.width,f(n,c.BRIGHT),this.brightNode.color=this.brightColor.clone().setA(255),this.brightNode.opacity=this.brightColor.getA(),this.targetNode.addChild(this.brightNode),this.loaded=!0,this.apply()}},e.prototype.loopBrightNodes=function(t){this.brightNode.active=t,this.brightNodes.forEach(function(e){e.active=t})},e.prototype.onMouseEnter=function(){this.isHover=!0,this.interactable&&this.loopBrightNodes(!0)},e.prototype.onMouseLeave=function(){this.isHover=!1,this.interactable&&(this._keepBright||this.loopBrightNodes(!1))},e.prototype.onEnable=function(){cc.sys.isMobile?(this.targetNode.on(cc.Node.EventType.TOUCH_START,this.onMouseEnter,this),this.targetNode.on(cc.Node.EventType.TOUCH_END,this.onMouseLeave,this),this.targetNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onMouseLeave,this)):(this.targetNode.on(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.targetNode.on(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this)),this.apply()},e.prototype.onDisable=function(){cc.sys.isMobile?(this.targetNode.off(cc.Node.EventType.TOUCH_START,this.onMouseEnter,this),this.targetNode.off(cc.Node.EventType.TOUCH_END,this.onMouseLeave,this),this.targetNode.off(cc.Node.EventType.TOUCH_CANCEL,this.onMouseLeave,this)):(this.targetNode.off(cc.Node.EventType.MOUSE_ENTER,this.onMouseEnter,this),this.targetNode.off(cc.Node.EventType.MOUSE_LEAVE,this.onMouseLeave,this)),this.isHover=!1},Object.defineProperty(e.prototype,"keepBright",{get:function(){return this._keepBright},set:function(t){this._keepBright=t,this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactable",{get:function(){return this._interactable},set:function(t){this._interactable=t,this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isChecked",{get:function(){return this._isChecked},set:function(t){this.checkmarks.forEach(h(t)),this.notCheckmarks.forEach(h(!t)),this._isChecked=t},enumerable:!0,configurable:!0}),e.prototype.toggleChecked=function(){this.isChecked=!this.isChecked},e.prototype.apply=function(){this.pre();var t=this.keepBright,e=this.interactable;this.loopBrightNodes(!1),this.darkNode.active=!1,e?((t||this.isHover)&&this.loopBrightNodes(!0),this.cantClickWhenKeepBright&&t?this.scaleButton.interactable=!1:this.scaleButton.interactable=!0):(t?this.loopBrightNodes(!0):this.darkNode.active=!0,this.scaleButton.interactable=!1)},i([a(cc.Node)],e.prototype,"targetNode",void 0),i([a(cc.SpriteFrame)],e.prototype,"backgroundSpriteFrame",void 0),i([a(cc.SpriteFrame)],e.prototype,"textSpriteFrame",void 0),i([a(cc.Label)],e.prototype,"label",void 0),i([a(cc.Component.EventHandler)],e.prototype,"onClickHandler",void 0),i([a([cc.Component.EventHandler])],e.prototype,"onClickHandlers",void 0),i([a(cc.Boolean)],e.prototype,"cantClickWhenKeepBright",void 0),i([a(cc.Boolean)],e.prototype,"enableAutoGrayEffect",void 0),i([a(cc.Float)],e.prototype,"zoomScale",void 0),i([a(cc.Color)],e.prototype,"brightColor",void 0),i([a(cc.Color)],e.prototype,"darkColor",void 0),i([a([cc.Node])],e.prototype,"checkmarks",void 0),i([a([cc.Node])],e.prototype,"notCheckmarks",void 0),i([a([cc.Node])],e.prototype,"brightNodes",void 0),e=i([s,p("Button/CommonButton")],e)}(cc.Component);function d(t,e){e===c.NORMAL?(t.color=cc.color(255,255,255),t.opacity=255):e===c.BRIGHT?(t.color=cc.color(255,255,255),t.opacity=80):e===c.DARK&&(t.color=cc.color(0,0,0),t.opacity=180)}function f(t,e){e===c.NORMAL?(t.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,t.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA):e===c.BRIGHT?(t.srcBlendFactor=cc.macro.BlendFactor.SRC_ALPHA,t.dstBlendFactor=cc.macro.BlendFactor.ONE):e===c.DARK&&(t.srcBlendFactor=cc.macro.BlendFactor.ONE,t.dstBlendFactor=cc.macro.BlendFactor.ONE_MINUS_SRC_ALPHA)}o.default=u,o.applyColor=d,o.applyBlendMode=f,cc._RF.pop()},{}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"167347Io0tARrV/GP4ogyOB","Game");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,c=arguments.length,n=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(c<3?i(n):c>3?i(e,o,n):i(e,o))||n);return c>3&&n&&Object.defineProperty(e,o,n),n};Object.defineProperty(o,"__esModule",{value:!0});var c,n=t("./Rocket"),s=cc._decorator,a=s.ccclass,p=s.property;(function(t){t[t.BEGIN=0]="BEGIN",t[t.PLAYING=1]="PLAYING",t[t.GAMEOVER=2]="GAMEOVER",t[t.RESET=3]="RESET"})(c||(c={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rocket=null,e.ship=null,e.asteroid=null,e.bulletTemp=null,e.bulletLayer=null,e.tapToPlay=null,e.scoreLabel=null,e.restartBtn=null,e.asteroidMap=[],e.gameStatus=c.BEGIN,e.timer=0,e.shotTimeout=.3,e.myScore=0,e.intermission=!1,e}return r(e,t),e.prototype.onLoad=function(){for(var t=0;t<24;t+=1)this.asteroidMap.push(15*t);cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this)},e.prototype.onKeyDown=function(t){switch(t.keyCode){case cc.macro.KEY.space:this.gameStatus===c.BEGIN||this.gameStatus===c.RESET?this.onStartClick():this.gameStatus===c.PLAYING&&this.rocket.toggleClock()}},e.prototype.onTapScreen=function(){this.rocket.toggleClock()},e.prototype.onStartClick=function(){switch(this.gameStatus){case c.BEGIN:this.gameStatus=c.PLAYING,this.gameStart();break;case c.PLAYING:this.gameover();break;case c.GAMEOVER:this.gameStatus=c.RESET,this.turnOnAsteroid(),this.rocket.reset(),this.restartBtn.active=!1,this.tapToPlay.active=!0,this.myScore=0,this.scoreLabel.string=""+this.myScore;break;case c.RESET:this.gameStatus=c.PLAYING,this.gameStart()}},e.prototype.gameStart=function(){this.rocket.startFly(),this.timer=0,this.tapToPlay.active=!1,this.myScore=0,this.scoreLabel.string=""+this.myScore},e.prototype.turnOnAsteroid=function(){this.asteroid.children.forEach(function(t){t.active=!0})},e.prototype.update=function(t){var e=this;this.gameStatus===c.PLAYING&&(this.eatAsteroid(),this.timer+=t,this.timer>=this.shotTimeout&&(this.timer-=this.shotTimeout,this.shotBullet()),this.bulletLayer.children.forEach(function(t){e.checkBulletHit(t)}))},e.prototype.checkBulletHit=function(t){var e=t.children[0];if(!(e.y<400)){var o=e.convertToWorldSpaceAR(cc.v2(0,0)),r=this.ship.convertToWorldSpaceAR(cc.v2(0,0));o.sub(r).mag()<70&&(t.removeFromParent(),t.destroy(),this.hitShip(),this.gameover())}},e.prototype.gameover=function(){this.gameStatus=c.GAMEOVER,this.rocket.stop(),this.restartBtn.active=!0},e.prototype.shotBullet=function(){if(!this.intermission){var t=cc.instantiate(this.bulletTemp);t.setParent(this.bulletLayer);var e=this.rocket.node.angle%360,o=Math.random();t.angle=o>.65?e+45*this.rocket.clockwise:o>.5?e+45*this.rocket.clockwise*-1:e+90*Math.random()-45,t.children[0].runAction(cc.sequence(cc.moveTo(.9,0,450),cc.spawn(cc.moveTo(.3,0,600),cc.fadeOut(.3)),cc.callFunc(function(){t.removeFromParent(),t.destroy()}))),t.active=!0}},e.prototype.eatAsteroid=function(){var t=this,e=this.rocket.node.angle%360;e<0&&(e+=360);var o=Math.floor((e+5)/15);o!==Math.floor((e-5)/15)&&(24===o&&(o=0),this.asteroid.children[o].active&&(this.asteroid.children[o].active=!1,this.myScore+=1,this.scoreLabel.string=""+this.myScore,this.myScore%24==0&&(this.intermission=!0,this.bulletLayer.removeAllChildren(),setTimeout(function(){t.turnOnAsteroid(),t.intermission=!1},1e3))))},e.prototype.hitShip=function(){this.ship.runAction(cc.sequence(cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255),cc.tintTo(.1,255,0,0),cc.tintTo(.1,255,255,255)))},i([p(n.default)],e.prototype,"rocket",void 0),i([p(cc.Node)],e.prototype,"ship",void 0),i([p(cc.Node)],e.prototype,"asteroid",void 0),i([p(cc.Node)],e.prototype,"bulletTemp",void 0),i([p(cc.Node)],e.prototype,"bulletLayer",void 0),i([p(cc.Node)],e.prototype,"tapToPlay",void 0),i([p(cc.Label)],e.prototype,"scoreLabel",void 0),i([p(cc.Node)],e.prototype,"restartBtn",void 0),e=i([a],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./Rocket":"Rocket"}],Rocket:[function(t,e,o){"use strict";cc._RF.push(e,"cb78akOP4ZGBpOfJRlb3G4+","Rocket");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,c=arguments.length,n=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(c<3?i(n):c>3?i(e,o,n):i(e,o))||n);return c>3&&n&&Object.defineProperty(e,o,n),n};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,s=c.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=50,e.clockwise=1,e.isPlaying=!1,e.airplane=null,e}return r(e,t),e.prototype.update=function(t){this.isPlaying&&(this.node.angle+=t*this.speed*this.clockwise)},e.prototype.toggleClock=function(){this.isPlaying&&(this.clockwise*=-1,this.airplane.scaleX*=-1)},e.prototype.stop=function(){this.isPlaying=!1},e.prototype.reset=function(){this.isPlaying=!1,this.clockwise=1,this.airplane.scaleX=1,this.node.angle=0},e.prototype.startFly=function(){this.isPlaying=!0},i([s(cc.Node)],e.prototype,"airplane",void 0),e=i([n],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Shiny:[function(t,e,o){"use strict";cc._RF.push(e,"322f7UB551A3LJhehCy3F/J","Shiny");var r=this&&this.__extends||function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),i=this&&this.__decorate||function(t,e,o,r){var i,c=arguments.length,n=c<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(c<3?i(n):c>3?i(e,o,n):i(e,o))||n);return c>3&&n&&Object.defineProperty(e,o,n),n};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=.5,e.timer=0,e}return r(e,t),e.prototype.update=function(t){this.timer+=t,this.timer>=this.speed&&(this.timer-=this.speed,this.toggle())},e.prototype.toggle=function(){0===this.node.opacity?this.node.opacity=255:this.node.opacity=0},e=i([n],e)}(cc.Component));o.default=s,cc._RF.pop()},{}]},{},["Bullet","CommonButton","Game","Rocket","Shiny"]);